–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç ‚Äî —ç–≤–æ–ª—é—Ü–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ. –ï–≥–æ —Ü–µ–ª—å: –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –Ω–æ –∏ –≤—ã–≤–µ—Å—Ç–∏ –∏—Ö –≤ –∫—Ä–∞—Å–∏–≤–æ–º, —Ä–∞—Å–∫—Ä–∞—à–µ–Ω–Ω–æ–º –≤–∏–¥–µ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

---

### üìë –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. **–ë–õ–û–ö: –ë–ê–ó–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò** (–ì–∏–≥–∏–µ–Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞)
2. **–ë–õ–û–ö: –§–£–ù–ö–¶–ò–Ø –ü–ï–†–ï–í–û–î–ê –¶–í–ï–¢–û–í** (–ß–µ–ª–æ–≤–µ–∫ -> –ú–∞—à–∏–Ω–∞)
3. **–ë–õ–û–ö: –í–ê–õ–ò–î–ê–¶–ò–Ø –í–•–û–î–ù–´–• –î–ê–ù–ù–´–•** (–§–µ–π—Å–∫–æ–Ω—Ç—Ä–æ–ª—å)
4. **–ë–õ–û–ö: –ü–†–û–í–ï–†–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô** (–ù–∞–ª–∏—á–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
5. **–ë–õ–û–ö: –°–ë–û–† –ò –û–ö–†–ê–®–ò–í–ê–ù–ò–ï –î–ê–ù–ù–´–•** (–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞)
6. **–ë–õ–û–ö: –¢–û–ß–ö–ê –í–•–û–î–ê** (–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)

---

```bash
#!/usr/bin/env bash

# 1. === –ë–õ–û–ö: –ë–ê–ó–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò ===
# –¶–µ–ª—å: –°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç –ø–∞–¥–∞–ª –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ, –∞ –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å —Å "–±–∏—Ç—ã–º–∏" –¥–∞–Ω–Ω—ã–º–∏.

set -euo pipefail

# –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –æ–ø—Ü–∏–π 'set':
# -e (Exit on error): –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É (–∫–æ–¥ –Ω–µ 0), —Å–∫—Ä–∏–ø—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è. 
#     –ó–∞—á–µ–º: –ß—Ç–æ–±—ã –Ω–µ –Ω–∞—Ç–≤–æ—Ä–∏—Ç—å –¥–µ–ª, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ.
# -u (Unset variables): –ó–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
#     –ó–∞—á–µ–º: –ï—Å–ª–∏ —Ç—ã –æ–ø–µ—á–∞—Ç–∞–ª—Å—è –≤ –∏–º–µ–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–Ω–∞–ø—Ä. $rm_path –≤–º–µ—Å—Ç–æ $ram_path), Bash –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –ø—É—Å—Ç–æ—Ç—É (—á—Ç–æ –æ–ø–∞—Å–Ω–æ), –∞ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É.
# -o pipefail: –ï—Å–ª–∏ –≤ —Ü–µ–ø–æ—á–∫–µ –∫–æ–º–∞–Ω–¥ (cmd1 | cmd2) —É–ø–∞–ª–∞ –ø–µ—Ä–≤–∞—è, —Ç–æ —É–ø–∞–≤—à–∏–º —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–µ—Å—å –∫–æ–Ω–≤–µ–π–µ—Ä.
#     –ë–µ–∑ —ç—Ç–æ–≥–æ Bash —Å–º–æ—Ç—Ä–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Å–ø–µ—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã.

trap 'echo -e "\n\n–ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º."; exit 130' INT TERM

# trap ‚Äî —ç—Ç–æ "–ª–æ–≤—É—à–∫–∞" –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ —Å–∏—Å—Ç–µ–º—ã.
# INT (SIGINT) ‚Äî –°–∏–≥–Ω–∞–ª –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (–∫–æ–≥–¥–∞ —Ç—ã –∂–º–µ—à—å Ctrl+C).
# TERM (SIGTERM) ‚Äî –°–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–∫–æ–≥–¥–∞ –∫–æ–º–∞–Ω–¥—É kill –ø–æ—Å—ã–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞).
# exit 130 ‚Äî –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–æ–¥ –≤—ã—Ö–æ–¥–∞ –≤ Linux –ø—Ä–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏ (128 + –Ω–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞ 2 = 130).
# –ú—ã –≥–æ–≤–æ—Ä–∏–º —Å–∫—Ä–∏–ø—Ç—É: "–ï—Å–ª–∏ —Ç–µ–±—è —É–±–∏–≤–∞—é—Ç, —É—Å–ø–µ–π –∫—Ä–∏–∫–Ω—É—Ç—å '–ü—Ä–µ—Ä–≤–∞–Ω–æ' –∏ —É–º—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ".

# 2. === –ë–õ–û–ö: –§–£–ù–ö–¶–ò–Ø –ü–ï–†–ï–í–û–î–ê –¶–í–ï–¢–û–í (get_color) ===
# –¶–µ–ª—å: –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —á–µ–ª–æ–≤–µ–∫—É —Ü–∏—Ñ—Ä—ã (1-6) –≤ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –º–∞—à–∏–Ω–µ ANSI-–∫–æ–¥—ã.

get_color() {
    # –í —Ñ—É–Ω–∫—Ü–∏—é "–ø—Ä–∏–ª–µ—Ç–∞—é—Ç" –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –ú—ã –ª–æ–≤–∏–º –∏—Ö –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
    local color_num=$1      # –ù–æ–º–µ—Ä —Ü–≤–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±—Ä–∞–ª —é–∑–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2 - –∫—Ä–∞—Å–Ω—ã–π)
    local is_background=$2  # –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å: 1 = —ç—Ç–æ –§–æ–Ω, 0 = —ç—Ç–æ –®—Ä–∏—Ñ—Ç.
    
    # case ‚Äî —ç—Ç–æ "—Å–ª–æ–≤–∞—Ä—å". –ú—ã –∏—â–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –Ω–æ–º–µ—Ä—É —Ü–≤–µ—Ç–∞.
    case $color_num in
        1) # white (–ë–µ–ª—ã–π)
            # –¢–µ—Ä–Ω–∞—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–ö—Ä–∞—Ç–∫–æ–µ —É—Å–ª–æ–≤–∏–µ): [[ —É—Å–ª–æ–≤–∏–µ ]] && –¢–û–ì–î–ê || –ò–ù–ê–ß–ï
            
            # –õ–æ–≥–∏–∫–∞:
            # –ï—Å–ª–∏ $is_background —Ä–∞–≤–Ω–æ 1 (–Ω–∞–º –Ω—É–∂–µ–Ω —Ñ–æ–Ω) -> –æ—Ç–¥–∞–µ–º –∫–æ–¥ 47.
            # –ï—Å–ª–∏ $is_background —Ä–∞–≤–Ω–æ 0 (–Ω–∞–º –Ω—É–∂–µ–Ω —Ç–µ–∫—Å—Ç) -> –æ—Ç–¥–∞–µ–º –∫–æ–¥ 97.
            
            # –°–ø—Ä–∞–≤–∫–∞ –ø–æ ANSI-–∫–æ–¥–∞–º:
            # 30-37: –û–±—ã—á–Ω—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞.
            # 40-47: –¶–≤–µ—Ç —Ñ–æ–Ω–∞.
            # 90-97: –Ø—Ä–∫–∏–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ (High Intensity). –ê–≤—Ç–æ—Ä –≤—ã–±—Ä–∞–ª 97, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –±—ã–ª –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–µ–µ.
            [[ $is_background -eq 1 ]] && echo "47" || echo "97"
            ;;
        2) # red (–ö—Ä–∞—Å–Ω—ã–π)
            [[ $is_background -eq 1 ]] && echo "41" || echo "31"
            ;;
        3) # green (–ó–µ–ª–µ–Ω—ã–π)
            [[ $is_background -eq 1 ]] && echo "42" || echo "32"
            ;;
        4) # blue (–°–∏–Ω–∏–π)
            [[ $is_background -eq 1 ]] && echo "44" || echo "34"
            ;;
        5) # purple (–§–∏–æ–ª–µ—Ç–æ–≤—ã–π)
            [[ $is_background -eq 1 ]] && echo "45" || echo "35"
            ;;
        6) # black (–ß–µ—Ä–Ω—ã–π)
            [[ $is_background -eq 1 ]] && echo "40" || echo "30"
            ;;
    esac
}

# 3. === –ë–õ–û–ö: –í–ê–õ–ò–î–ê–¶–ò–Ø –í–•–û–î–ù–´–• –î–ê–ù–ù–´–• ===
# –¶–µ–ª—å: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –î–û –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã ("–§–µ–π—Å–∫–æ–Ω—Ç—Ä–æ–ª—å").

validate_parameters() {
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
    # $# ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Ö—Ä–∞–Ω—è—â–∞—è –ß–ò–°–õ–û –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
    # -ne (Not Equal) ‚Äî –Ω–µ —Ä–∞–≤–Ω–æ.
    if [[ $# -ne 4 ]]; then
        echo "–û—à–∏–±–∫–∞: —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–≤–Ω–æ 4 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ (—Ü–≤–µ—Ç–∞ 1-6)." 
        echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <bg_name> <fg_name> <bg_val> <fg_val>"
        exit 1
    fi
    
    # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è
    local param1=$1
    local param2=$2
    local param3=$3
    local param4=$4
    
    # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (1-6) —Å –ø–æ–º–æ—â—å—é Regex (–†–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π)
    # –ú—ã –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ —Ü–∏–∫–ª–µ.
    for param in "$param1" "$param2" "$param3" "$param4"; do
        
        # –û–ø–µ—Ä–∞—Ç–æ—Ä =~ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º.
        # –®–∞–±–ª–æ–Ω ^[1-6]$ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫:
        # ^ ‚Äî –ù–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏.
        # [1-6] ‚Äî –†–æ–≤–Ω–æ –û–î–ò–ù —Å–∏–º–≤–æ–ª, –∏ —ç—Ç–æ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ü–∏—Ñ—Ä–∞ –æ—Ç 1 –¥–æ 6.
        # $ ‚Äî –ö–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏.
        # ! ‚Äî –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ (–ï–°–õ–ò –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —à–∞–±–ª–æ–Ω—É).
        
        if ! [[ "$param" =~ ^[1-6]$ ]]; then
            echo "–û—à–∏–±–∫–∞: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Å–ª–∞–º–∏ –æ—Ç 1 –¥–æ 6. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: $param"
            exit 1
        fi
    done
    
    # 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å–ª–µ–ø–æ—Ç—É" (–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤)
    # –ï—Å–ª–∏ —Ñ–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞ ($1) —Ä–∞–≤–µ–Ω —Ü–≤–µ—Ç—É —Ç–µ–∫—Å—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ ($2) ‚Äî —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –Ω–µ–≤–∏–¥–∏–º—ã–º.
    if [[ $param1 -eq $param2 ]] || [[ $param3 -eq $param4 ]]; then
        echo "–û—à–∏–±–∫–∞: —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –∏ —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å. –ß–∏—Ç–∞—Ç—å –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ."
        exit 1
    fi
}

# 4. === –ë–õ–û–ö: –ü–†–û–í–ï–†–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô ===
# –¶–µ–ª—å: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω—É–∂–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã.

check_dependencies() {
    local missing=() # –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º
    
    # –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤–∞–∂–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
    for cmd in ip awk free df date hostname; do
        # command -v: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–Ω–∞–µ—Ç –ª–∏ —Å–∏—Å—Ç–µ–º–∞ —Ç–∞–∫—É—é –∫–æ–º–∞–Ω–¥—É.
        # &>/dev/null: "–ú–æ–ª—á–∞" (–≤–µ—Å—å –≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –∏ —É—Å–ø–µ—Ö–∞ —É—Ö–æ–¥–∏—Ç –≤ —á–µ—Ä–Ω—É—é –¥—ã—Ä—É).
        # || (–ò–õ–ò): –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ù–ï –Ω–∞–π–¥–µ–Ω–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º —Ç–æ, —á—Ç–æ —Å–ø—Ä–∞–≤–∞.
        command -v "$cmd" &>/dev/null || missing+=("$cmd")
    done

    # ${#missing[@]}: –°—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –æ—à–∏–±–æ–∫.
    if [[ ${#missing[@]} -gt 0 ]]; then
        echo "–û—à–∏–±–∫–∞: –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã: ${missing[*]}" >&2
        exit 1
    fi
}

# 5. === –ë–õ–û–ö: –°–ë–û–† –ò –û–ö–†–ê–®–ò–í–ê–ù–ò–ï –î–ê–ù–ù–´–• ===
# –¶–µ–ª—å: –°–æ–±—Ä–∞—Ç—å –∏–Ω—Ñ–æ, —Ä–∞—Å–∫—Ä–∞—Å–∏—Ç—å –µ—ë –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞ –∏ –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω.

gather_system_facts() {
    # –ü—Ä–∏–Ω–∏–º–∞–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1-6), –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –∏–∑ main
    local bg_name=$1  # –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π (HOSTNAME...)
    local fg_name=$2  # –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π
    local bg_value=$3 # –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π (Ubuntu...)
    local fg_value=$4 # –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π

    # !!! –í–ê–ñ–ù–û: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ–º 'set -e'
    # –í —ç—Ç–æ–º –±–ª–æ–∫–µ –º—ã –º–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–∞–µ–º —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ (ip, timedatectl).
    # –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –∏–∑ –Ω–∏—Ö –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç —Å–µ—Ç–∏), –º—ã –Ω–µ —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –í–ï–°–¨ —Å–∫—Ä–∏–ø—Ç —É–ø–∞–ª.
    # –ú—ã —Ö–æ—Ç–∏–º –ø—Ä–æ—Å—Ç–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å "N/A" –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.
    set +e 

    # --- –ü–û–î–ì–û–¢–û–í–ö–ê –¶–í–ï–¢–û–í (–ú–ê–ì–ò–Ø ANSI) ---
    
    local color_bg_name color_fg_name color_bg_value color_fg_value
    
    # –ú—ã –≤—ã–∑—ã–≤–∞–µ–º –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é-–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ get_color.
    # –ü–µ—Ä–µ–¥–∞–µ–º –µ–π –≤—ã–±–æ—Ä —é–∑–µ—Ä–∞ ($bg_name) –∏ —Ñ–ª–∞–≥: 1 (–¥–∞–π –º–Ω–µ –∫–æ–¥ —Ñ–æ–Ω–∞) –∏–ª–∏ 0 (–¥–∞–π –∫–æ–¥ —Ç–µ–∫—Å—Ç–∞).
    # $(...) ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.
    color_bg_name=$(get_color "$bg_name" 1) 
    color_fg_name=$(get_color "$fg_name" 0)
    color_bg_value=$(get_color "$bg_value" 1)
    color_fg_value=$(get_color "$fg_value" 0)

    # –°–±–æ—Ä–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏-—Å—Ç–∏–ª—è.
    # \033[ ‚Äî –≠—Ç–æ ESCAPE-—Å–∏–º–≤–æ–ª. –ù–∞—á–∞–ª–æ –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª—É.
    # ...m ‚Äî –ö–æ–Ω–µ—Ü –∫–æ–º–∞–Ω–¥—ã.
    # ; ‚Äî –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∫–æ–¥–æ–≤ (—Ñ–æ–Ω –∏ —Ç–µ–∫—Å—Ç –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ).
    # –ü—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏: "\033[41;97m" (–ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –∫—Ä–∞—Å–Ω–æ–º —Ñ–æ–Ω–µ).
    local name_style="\033[${color_bg_name};${color_fg_name}m"
    local value_style="\033[${color_bg_value};${color_fg_value}m"
    
    # Reset ‚Äî –∫–æ–¥ —Å–±—Ä–æ—Å–∞ (0), —á—Ç–æ–±—ã —Ü–≤–µ—Ç–∞ –Ω–µ "–ø–æ—Ç–µ–∫–ª–∏" –¥–∞–ª—å—à–µ –ø–æ —Ç–µ—Ä–º–∏–Ω–∞–ª—É.
    local reset="\033[0m"

    # --- –°–ë–û–† –î–ê–ù–ù–´–• (–ö—Ä–∞—Ç–∫–æ, —Ç–∞–∫ –∫–∞–∫ –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–±–∏—Ä–∞–ª–∏ –≤ –ø—Ä–æ—à–ª–æ–º —Å–∫—Ä–∏–ø—Ç–µ) ---

    # Hostname: –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ hostname -s —É–ø–∞–¥–µ—Ç, —Å—Ä–∞–±–æ—Ç–∞–µ—Ç || –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–æ—Å—Ç–æ hostname.
    local node_name
    node_name=$(hostname -s 2>/dev/null || hostname)

    # Timezone:
    local tz_name tz_offset
    # –ï—Å–ª–∏ timedatectl —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –±–µ—Ä–µ–º –¥–∞–Ω–Ω—ã–µ –æ—Ç—Ç—É–¥–∞. –ò–Ω–∞—á–µ ‚Äî —Å—Ç–∞–≤–∏–º UTC.
    if command -v timedatectl &>/dev/null; then
        tz_name=$(timedatectl show --value --property=Timezone 2>/dev/null)
        [[ -z "$tz_name" ]] && tz_name="UTC"
        tz_offset=$(date +"%:::z" 2>/dev/null || echo "+00")
    else
        tz_name="UTC"; tz_offset="+00"
    fi

    local active_user
    active_user=$(whoami)

    local os_release
    # –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª os-release, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–æ–±—É–µ–º uname.
    if [[ -f /etc/os-release ]]; then
        # –ò—â–µ–º —Å—Ç—Ä–æ—á–∫—É PRETTY_NAME=..., —É–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏.
        os_release=$(grep '^PRETTY_NAME=' /etc/os-release | cut -d= -f2 | tr -d '"')
    else
        os_release=$(uname -srm)
    fi

    local current_moment
    current_moment=$(date +"%d %b %Y %H:%M:%S")

    local uptime_human
    # uptime -p –≤—ã–¥–∞–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ "up 2 hours, 5 minutes". sed —É–¥–∞–ª—è–µ—Ç —Å–ª–æ–≤–æ "up ".
    uptime_human=$(uptime -p | sed 's/^up //')

    local uptime_seconds
    # awk '{print $1}' /proc/uptime ‚Äî –±–µ—Ä–µ—Ç –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ (—Å–µ–∫—É–Ω–¥—ã) –∏–∑ —Ñ–∞–π–ª–∞.
    uptime_seconds=$(awk '{print int($1)}' /proc/uptime 2>/dev/null)

    # IP Address
    local machine_ip
    # ip route get 1 ‚Äî –∏—â–µ—Ç –º–∞—Ä—à—Ä—É—Ç –∫ 1.0.0.0, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
    # awk '{print $7}' ‚Äî –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ—Ç IP –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (src).
    machine_ip=$(ip route get 1 2>/dev/null | awk '{print $7; exit}')
    [[ -z "$machine_ip" ]] && machine_ip="N/A"

    # Mask & Gateway (–û–ø—É—Å–∫–∞–µ–º —Å–ª–æ–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –±–∏—Ç–æ–≤—ã—Ö —Å–¥–≤–∏–≥–æ–≤ —Ä–∞–¥–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏, –ª–æ–≥–∏–∫–∞ —Ç–∞ –∂–µ, —á—Ç–æ –≤ –ø—Ä–æ—à–ª–æ–º —Ä–∞–∑–±–æ—Ä–µ)
    local subnet_mask="N/A" 
    local default_gateway
    default_gateway=$(ip route | awk '/default/ {print $3; exit}')

    # RAM (Memory)
    local ram_total ram_used ram_free
    # free -m ‚Äî –≤—ã–≤–æ–¥ –≤ –º–µ–≥–∞–±–∞–π—Ç–∞—Ö. awk –±–µ—Ä–µ—Ç 2 —Å—Ç—Ä–æ–∫—É.
    read -r ram_total ram_used ram_free < <(free -m | awk 'NR==2 {printf "%.3f %.3f %.3f", $2/1024, $3/1024, $4/1024}')

    # Space Root
    local root_total root_used root_free
    # df -m / ‚Äî –º–µ—Å—Ç–æ –≤ –∫–æ—Ä–Ω–µ –≤ –º–µ–≥–∞–±–∞–π—Ç–∞—Ö.
    read -r root_total root_used root_free < <(df -m / | awk 'NR==2 {printf "%.2f %.2f %.2f", $2, $3, $4}')

    # --- –í–´–í–û–î –ù–ê –≠–ö–†–ê–ù (–°–õ–ò–Ø–ù–ò–ï –î–ê–ù–ù–´–• –ò –¶–í–ï–¢–ê) ---
    
    # echo -e: –í–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤ (\033, \n). –ë–µ–∑ -e —Ü–≤–µ—Ç–∞ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç!
    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–æ–∫–∏:
    # 1. ${name_style} ‚Äî –í–∫–ª—é—á–∏—Ç—å —Ü–≤–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è.
    # 2. –¢–µ–∫—Å—Ç "HOSTNAME".
    # 3. ${reset} ‚Äî –í—ã–∫–ª—é—á–∏—Ç—å —Ü–≤–µ—Ç (—Å–¥–µ–ª–∞—Ç—å –æ–±—ã—á–Ω—ã–º).
    # 4. " = " ‚Äî –ó–Ω–∞–∫ —Ä–∞–≤–Ω–æ –æ–±—ã—á–Ω—ã–º —Ü–≤–µ—Ç–æ–º.
    # 5. ${value_style} ‚Äî –í–∫–ª—é—á–∏—Ç—å —Ü–≤–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.
    # 6. $node_name ‚Äî –°–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ.
    # 7. ${reset} ‚Äî –°–Ω–æ–≤–∞ —Å–±—Ä–æ—Å.

    echo -e "${name_style}HOSTNAME${reset} = ${value_style}${node_name}${reset}"
    echo -e "${name_style}TIMEZONE${reset} = ${value_style}${tz_name} UTC ${tz_offset}${reset}"
    echo -e "${name_style}USER${reset} = ${value_style}${active_user}${reset}"
    echo -e "${name_style}OS${reset} = ${value_style}${os_release}${reset}"
    echo -e "${name_style}DATE${reset} = ${value_style}${current_moment}${reset}"
    echo -e "${name_style}UPTIME${reset} = ${value_style}${uptime_human}${reset}"
    echo -e "${name_style}UPTIME_SEC${reset} = ${value_style}${uptime_seconds}${reset}"
    echo -e "${name_style}IP${reset} = ${value_style}${machine_ip}${reset}"
    echo -e "${name_style}MASK${reset} = ${value_style}${subnet_mask}${reset}"
    echo -e "${name_style}GATEWAY${reset} = ${value_style}${default_gateway}${reset}"
    echo -e "${name_style}RAM_TOTAL${reset} = ${value_style}${ram_total} GB${reset}"
    echo -e "${name_style}RAM_USED${reset} = ${value_style}${ram_used} GB${reset}"
    echo -e "${name_style}RAM_FREE${reset} = ${value_style}${ram_free} GB${reset}"
    echo -e "${name_style}SPACE_ROOT${reset} = ${value_style}${root_total} MB${reset}"
    echo -e "${name_style}SPACE_ROOT_USED${reset} = ${value_style}${root_used} MB${reset}"
    echo -e "${name_style}SPACE_ROOT_FREE${reset} = ${value_style}${root_free} MB${reset}"

    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –æ–±—Ä–∞—Ç–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –æ–ø–∞—Å–Ω—ã–π –±–ª–æ–∫ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è.
    set -e
}

# 6. === –ë–õ–û–ö: –¢–û–ß–ö–ê –í–•–û–î–ê (MAIN) ===

main() {
    # 1. –í–∞–ª–∏–¥–∞—Ü–∏—è.
    # "$@" –ø–µ—Ä–µ–¥–∞–µ—Ç –í–°–ï –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1 2 3 4) –≤ —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∏.
    validate_parameters "$@"
    
    # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–∏–ª–∏—Ç.
    check_dependencies
    
    # 3. –ó–∞–ø—É—Å–∫.
    # –ü–µ—Ä–µ–¥–∞–µ–º 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ü–≤–µ—Ç–∞ ($1, $2, $3, $4) –≤–Ω—É—Ç—Ä—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å–±–æ—Ä–∞.
    # –¢–∞–º –æ–Ω–∏ –ø—Ä–µ–≤—Ä–∞—Ç—è—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ bg_name –∏ —Ç.–¥.
    gather_system_facts "$1" "$2" "$3" "$4"
}

# –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞
main "$@"

