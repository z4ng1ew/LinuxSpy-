–≠—Ç–æ **–ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –∫ —Å–∫—Ä–∏–ø—Ç—É –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≥–ª—É–±–æ–∫–∏–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ (—Ä–∞–∑–º–µ—Ä—ã, —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤, —Ö–µ—à-—Å—É–º–º—ã) –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç—á–µ—Ç.

---

### üìë –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. **–ë–õ–û–ö: –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò –í–ê–õ–ò–î–ê–¶–ò–Ø** (–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
2. **–ë–õ–û–ö: –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê** (–§—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –±–∞–π—Ç–æ–≤)
3. **–ë–õ–û–ö: –ê–ù–ê–õ–ò–ó –ü–ê–ü–û–ö** (–°—á–µ—Ç—á–∏–∫ –∏ TOP-5 –ø–æ —Ä–∞–∑–º–µ—Ä—É)
4. **–ë–õ–û–ö: –ê–ù–ê–õ–ò–ó –§–ê–ô–õ–û–í –ü–û –¢–ò–ü–ê–ú** (–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)
5. **–ë–õ–û–ö: TOP-10 –§–ê–ô–õ–û–í** (–†–∞–∑–º–µ—Ä –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞)
6. **–ë–õ–û–ö: TOP-10 –ò–°–ü–û–õ–ù–Ø–ï–ú–´–• –§–ê–ô–õ–û–í** (–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ MD5)
7. **–ë–õ–û–ö: –ú–ï–¢–†–ò–ö–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò** (–¢–∞–π–º–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

---

```bash
#!/bin/bash

```

# 1. === –ë–õ–û–ö: –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò –í–ê–õ–ò–î–ê–¶–ò–Ø ===

# –¶–µ–ª—å: –ó–∞—Å–µ—á—å –≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞–ª –∞—Ä–≥—É–º–µ–Ω—Ç, –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

# –ù–∞—á–∞–ª–æ –æ—Ç—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏

START_TIME=$(date +%s.%N)

# date +%s.%N ‚Äî –ö–æ–º–∞–Ω–¥–∞ date –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è.

# –§–æ—Ä–º–∞—Ç +%s.%N:

# %s ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—É–Ω–¥, –ø—Ä–æ—à–µ–¥—à–∏—Ö —Å 1 —è–Ω–≤–∞—Ä—è 1970 –≥–æ–¥–∞ (Epoch time).

# %N ‚Äî –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—ã (–¥–ª—è –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏).

# –†–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1709234567.123456789) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é START_TIME.

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

if [ $# -ne 1 ]; then
echo "Usage: $0 <directory_path>"
echo "Example: $0 /var/log/"
exit 1
fi

# $# ‚Äî –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è Bash, —Ö—Ä–∞–Ω—è—â–∞—è –ö–û–õ–ò–ß–ï–°–¢–í–û –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

# -ne ‚Äî (Not Equal) –ù–µ —Ä–∞–≤–Ω–æ.

# –õ–æ–≥–∏–∫–∞: –ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–µ —Ä–∞–≤–Ω–æ 1 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –≤–≤–µ–ª –∏–ª–∏ –≤–≤–µ–ª —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ), —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π (exit 1).

TARGET_DIR="$1"

# $1 ‚Äî –≠—Ç–æ –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø–∏—Å–∞–ª –ø–æ—Å–ª–µ –∏–º–µ–Ω–∏ —Å–∫—Ä–∏–ø—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ./script.sh /etc/).

# –ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ –≤ –ø–æ–Ω—è—Ç–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é TARGET_DIR ("–¶–µ–ª–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è").

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

if [ ! -d "$TARGET_DIR" ]; then
echo "Error: Directory '$TARGET_DIR' does not exist"
exit 1
fi

# -d ‚Äî –§–ª–∞–≥ –ø—Ä–æ–≤–µ—Ä–∫–∏: "–≠—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?".

# ! ‚Äî –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ (–ù–ï).

# –õ–æ–≥–∏–∫–∞: "–ï—Å–ª–∏ TARGET_DIR –ù–ï —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π, —Ç–æ..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ —Å–ª—ç—à–∞

if [[ ! " ]]; then
echo "Error: Directory path must end with '/'"
echo "Example: $0 ${TARGET_DIR}/"
exit 1
fi

# =~ ‚Äî –û–ø–µ—Ä–∞—Ç–æ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º (Regex).

# /$ ‚Äî –°–∞–º–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:

# / ‚Äî –∏—â–µ–º —Å–∏–º–≤–æ–ª —Å–ª—ç—à–∞.

# $ ‚Äî —è–∫–æ—Ä—å –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏. –û–∑–Ω–∞—á–∞–µ—Ç "—Å—Ç—Ä–æ–≥–æ –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ".

# –õ–æ–≥–∏–∫–∞: –ï—Å–ª–∏ –ø—É—Ç—å –Ω–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–ª—ç—à, —Å–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç –µ–≥–æ –¥–æ–±–∞–≤–∏—Ç—å. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å–∫–ª–µ–π–∫–∏ –ø—É—Ç–µ–π –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º.

echo "Analyzing directory: $TARGET_DIR"
echo "Please wait..."
echo

# 2. === –ë–õ–û–ö: –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê (bytes_to_human) ===

# –¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (—Ñ—É–Ω–∫—Ü–∏—é), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –¥–ª–∏–Ω–Ω—ã–µ —á–∏—Å–ª–∞ (–±–∞–π—Ç—ã) –≤ –ø–æ–Ω—è—Ç–Ω—ã–µ GB, MB, KB.

bytes_to_human() {
local bytes=$1
# local ‚Äî –æ–±—ä—è–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –≤–∏–¥–∏–º—É—é —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–µ –∑–∞—Å–æ—Ä—è–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç).
# $1 –∑–¥–µ—Å—å ‚Äî —ç—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ò–ú–ï–ù–ù–û –§–£–ù–ö–¶–ò–ò, –∞ –Ω–µ —Å–∫—Ä–∏–ø—Ç—É.

```
# –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ Bash $((...)):
# Bash —É–º–µ–µ—Ç –¥–µ–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞—Ü–µ–ª–æ (–±–µ–∑ –¥—Ä–æ–±–µ–π). 
# –ï—Å–ª–∏ bytes = 1048576, —Ç–æ 1048576 / 1024 = 1024 KB.
local gb=$((bytes / 1024 / 1024 / 1024))
local mb=$((bytes / 1024 / 1024))
local kb=$((bytes / 1024))

# –ö–∞—Å–∫–∞–¥–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç –±–æ–ª—å—à–µ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É:
if [ $gb -gt 0 ]; then
    echo "${gb} GB"
elif [ $mb -gt 0 ]; then
    echo "${mb} MB"
elif [ $kb -gt 0 ]; then
    echo "${kb} KB"
else
    echo "${bytes} bytes"
fi

```

}

# 3. === –ë–õ–û–ö: –ê–ù–ê–õ–ò–ó –ü–ê–ü–û–ö ===

# –¶–µ–ª—å: –ü–æ—Å—á–∏—Ç–∞—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–ø–æ–∫ –∏ –Ω–∞–π—Ç–∏ —Å–∞–º—ã–µ "–∂–∏—Ä–Ω—ã–µ" –∏–∑ –Ω–∏—Ö.

# 1. –ü–æ–¥—Å—á–µ—Ç –ø–∞–ø–æ–∫

FOLDER_COUNT=$(find "$TARGET_DIR" -type d 2>/dev/null | wc -l)

# find "$TARGET_DIR" ‚Äî –∏—Å–∫–∞—Ç—å –≤ —Ü–µ–ª–µ–≤–æ–π –ø–∞–ø–∫–µ.

# -type d ‚Äî –∏—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (d = directory).

# 2>/dev/null ‚Äî "–ß–µ—Ä–Ω–∞—è –¥—ã—Ä–∞" –¥–ª—è –æ—à–∏–±–æ–∫. –ï—Å–ª–∏ —É find –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–∫–æ–π-—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ–π –ø–∞–ø–∫–µ, –æ–Ω –Ω–∞–ø–∏—à–µ—Ç –æ—à–∏–±–∫—É –≤ –ø–æ—Ç–æ–∫ stderr (2). –ú—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º —ç—Ç–æ—Ç –ø–æ—Ç–æ–∫ –≤ –Ω–∏–∫—É–¥–∞, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å —ç–∫—Ä–∞–Ω.

# | wc -l ‚Äî (Word Count -lines) –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–∞–ª find.

echo "Total number of folders (including all nested ones) = $FOLDER_COUNT"

# 2. TOP 5 –ø–∞–ø–æ–∫ –ø–æ —Ä–∞–∑–º–µ—Ä—É (–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞)

echo "TOP 5 folders of maximum size arranged in descending order (path and size):"

# –≠—Ç–∞–ø 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤

find "(du -sb "$dir" 2>/dev/null | awk '{print $1}')
echo "$size_bytes|$dir"
done | \

# find –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –ø–∞–ø–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –ø–æ –æ–¥–Ω–æ–π –≤ —Ü–∏–∫–ª while.

# read -r dir ‚Äî —á–∏—Ç–∞–µ—Ç –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é $dir.

# du -sb ‚Äî (Disk Usage --summarize --bytes). –°—á–∏—Ç–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ –≤ –±–∞–π—Ç–∞—Ö.

# awk '{print $1}' ‚Äî du –≤—ã–¥–∞–µ—Ç "12345 /path/to/dir". awk –∑–∞–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ (—Ä–∞–∑–º–µ—Ä).

# echo "$size_bytes|$dir" ‚Äî –ú—ã —Å–æ–∑–¥–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞ "–†–ê–ó–ú–ï–†|–ü–£–¢–¨". –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —á–µ—Ä—Ç–∞ | –≤—ã–±—Ä–∞–Ω–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º, —Ç–∞–∫ –∫–∞–∫ –≤ –ø—É—Ç—è—Ö Linux –µ—ë –±—ã—Ç—å –Ω–µ –º–æ–∂–µ—Ç (–±–µ–∑–æ–ø–∞—Å–Ω–æ).

# –≠—Ç–∞–ø 2: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –æ—Ç–±–æ—Ä

sort -t'|' -k1 -rn | head -5 | \

# sort ‚Äî –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏.

# -t'|' ‚Äî –ì–æ–≤–æ—Ä–∏–º —Å–æ—Ä—Ç–∏—Ä–æ–≤—â–∏–∫—É: "—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∫–æ–ª–æ–Ω–æ–∫ ‚Äî —ç—Ç–æ |".

# -k1 ‚Äî –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ 1-–π –∫–æ–ª–æ–Ω–∫–µ (–ø–æ —Ä–∞–∑–º–µ—Ä—É).

# -rn ‚Äî (Reverse Numeric). r = –ø–æ —É–±—ã–≤–∞–Ω–∏—é (–æ—Ç –±–æ–ª—å—à–æ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É), n = –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–∞–∫ —á–∏—Å–ª–∞ (—á—Ç–æ–±—ã 100 –±—ã–ª–æ –±–æ–ª—å—à–µ 2, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç).

# head -5 ‚Äî –û—Ç—Ä–µ–∑–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫ (–≤–µ—Ä—Ö—É—à–∫—É –∞–π—Å–±–µ—Ä–≥–∞).

# –≠—Ç–∞–ø 3: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞

while IFS='|' read -r size_bytes path; do
size_human=$(bytes_to_human "$size_bytes") # –í—ã–∑—ã–≤–∞–µ–º –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

```
# –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—ç—à –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç (—ç—Å—Ç–µ—Ç–∏–∫–∞)
if [[ ! "$path" =~ /$ ]]; then
    path="${path}/"
fi
echo "$path|$size_human"

```

done | awk -F'|' '{print NR " - " $1 ", " $2}'

# IFS='|' ‚Äî (Internal Field Separator). –ì–æ–≤–æ—Ä–∏—Ç –∫–æ–º–∞–Ω–¥–µ read —Ä–∞–∑–±–∏–≤–∞—Ç—å –≤—Ö–æ–¥—è—â—É—é —Å—Ç—Ä–æ–∫—É –ø–æ —Å–∏–º–≤–æ–ª—É |.

# awk -F'|' ‚Äî –§–∏–Ω–∞–ª—å–Ω—ã–π —à—Ç—Ä–∏—Ö. NR (Number of Record) ‚Äî —ç—Ç–æ –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ (1, 2, 3...).

# –†–µ–∑—É–ª—å—Ç–∞—Ç: "1 - /var/log/, 50 MB"

# 4. === –ë–õ–û–ö: –ê–ù–ê–õ–ò–ó –§–ê–ô–õ–û–í –ü–û –¢–ò–ü–ê–ú ===

# –¶–µ–ª—å: –ü–æ—Å—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –∏ —Å–≤–æ–π—Å—Ç–≤.

# 3. –ü–æ–¥—Å—á–µ—Ç —Ñ–∞–π–ª–æ–≤

TOTAL_FILES=$(find "$TARGET_DIR" -type f 2>/dev/null | wc -l)

# -type f ‚Äî –∏—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã (f = file).

echo "Total number of files = $TOTAL_FILES"

echo "Number of:"

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

CONF_COUNT=$(find "$TARGET_DIR" -type f -name "*.conf" 2>/dev/null | wc -l)

# -name "*.conf" ‚Äî –∏—â–µ—Ç —Ñ–∞–π–ª—ã, –∏–º—è –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ .conf. –ó–≤–µ–∑–¥–æ—á–∫–∞ * –æ–∑–Ω–∞—á–∞–µ—Ç "–ª—é–±–æ–π —Ç–µ–∫—Å—Ç".

echo "Configuration files (with the .conf extension) = $CONF_COUNT"

# –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã

TEXT_COUNT=$(find "$TARGET_DIR" -type f -name "*.txt" 2>/dev/null | wc -l)
echo "Text files = $TEXT_COUNT"

# –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã

EXEC_COUNT=$(find "$TARGET_DIR" -type f -executable 2>/dev/null | wc -l)

# -executable ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥ find. –ò—â–µ—Ç —Ñ–∞–π–ª—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–∏—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–ø—Ä–∞–≤–∞ chmod +x).

echo "Executable files = $EXEC_COUNT"

# –õ–æ–≥ —Ñ–∞–π–ª—ã

LOG_COUNT=$(find "$TARGET_DIR" -type f -name "*.log" 2>/dev/null | wc -l)
echo "Log files (with the extension .log) = $LOG_COUNT"

# –ê—Ä—Ö–∏–≤—ã (–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —É—Å–ª–æ–≤–∏–π)

ARCHIVE_COUNT=$(find "$TARGET_DIR" -type f ( -name "*.zip" -o -name "*.tar" -o -name "*.gz" -o -name "*.bz2" -o -name "*.xz" -o -name "*.7z" -o -name "*.rar" -o -name "*.tar.gz" -o -name "*.tgz" ) 2>/dev/null | wc -l)

# ( ... ) ‚Äî –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫–æ–±–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç —É—Å–ª–æ–≤–∏—è.

# -o ‚Äî –û–ø–µ—Ä–∞—Ç–æ—Ä OR (–ò–õ–ò).

# –õ–æ–≥–∏–∫–∞: "–ù–∞–π—Ç–∏ —Ñ–∞–π–ª, –µ—Å–ª–∏ –µ–≥–æ –∏–º—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ .zip –ò–õ–ò –Ω–∞ .tar –ò–õ–ò –Ω–∞ .gz...".

echo "Archive files = $ARCHIVE_COUNT"

# –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏

SYMLINK_COUNT=$(find "$TARGET_DIR" -type l 2>/dev/null | wc -l)

# -type l ‚Äî (link). –ò—â–µ—Ç —è—Ä–ª—ã–∫–∏ (—Å—Å—ã–ª–∫–∏) –Ω–∞ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã.

echo "Symbolic links = $SYMLINK_COUNT"

# 5. === –ë–õ–û–ö: TOP-10 –§–ê–ô–õ–û–í (–†–ê–ó–ú–ï–† –ò –¢–ò–ü) ===

# –¶–µ–ª—å: –ù–∞–π—Ç–∏ —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É–≥–∞–¥–∞—Ç—å, —á—Ç–æ —ç—Ç–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

echo "TOP 10 files of maximum size arranged in descending order (path, size and type):"

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–∞–∑–º–µ—Ä–∞

find "$TARGET_DIR" -type f 2>/dev/null -printf "%s|%p\n" | sort -t'|' -k1 -rn | head -10 | while IFS='|' read -r size_bytes path; do
# -printf "%s|%p\n" ‚Äî –≠—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è find.
# %s ‚Äî —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö.
# %p ‚Äî –ø–æ–ª–Ω—ã–π –ø—É—Ç—å.
# –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –≤—ã–∑–æ–≤ 'du' –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ—Ç–¥–µ–ª—å–Ω–æ!

```
size_human=$(bytes_to_human "$size_bytes")

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
type="unknown"
basename_file=$(basename "$path") # –ü–æ–ª—É—á–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ –ø—É—Ç–∏ (/var/log/syslog -> syslog)

# case ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è "switch". –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏.
case "$path" in
    *.conf) type="conf" ;;
    *.txt) type="text" ;;
    *.log) type="log" ;;
    *.journal) type="journal" ;;
    # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ —á–µ—Ä–µ–∑ | (–ò–õ–ò)
    *.zip|*.tar|*.gz|*.bz2|*.xz|*.7z|*.rar|*.tar.gz|*.tgz) type="archive" ;;
    *.exe) type="exe" ;;
    *.sh|*.bash) type="script" ;;
    *.bin) type="binary" ;;
    *.so|*.so.*) type="library" ;; # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ Linux
    *.deb|*.rpm) type="package" ;; # –£—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
    *)
        # –ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–æ—à–ª–æ, —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∏–º—è —Ñ–∞–π–ª–∞ (–¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
        case "$basename_file" in
            syslog*|messages*|daemon*|auth*|kern*|debug*|mail*|user*|cron*) type="log" ;;
        esac
        
        # –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ unknown, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–ª–∞–≥ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (-x)
        if [ "$type" = "unknown" ] && [ -x "$path" ]; then
            type="executable"
        fi
        ;;
esac

echo "$path|$size_human|$type"

```

done | awk -F'|' '{print NR " - " $1 ", " $2 ", " $3}'

# 6. === –ë–õ–û–ö: TOP-10 –ò–°–ü–û–õ–ù–Ø–ï–ú–´–• –§–ê–ô–õ–û–í (MD5) ===

# –¶–µ–ª—å: –î–ª—è –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ (—á–∞—Å—Ç–æ —ç—Ç–æ —Å–∫—Ä–∏–ø—Ç—ã –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã) –ø–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Å—É–º–º—É (—Ö–µ—à), —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å.

echo "TOP 10 executable files of the maximum size arranged in descending order (path, size and MD5 hash of file):"

find "(bytes_to_human "$size_bytes")

```
# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ MD5 —Ö–µ—à–∞ (–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å)
# command -v ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞.
if command -v md5sum &> /dev/null; then
    # Linux —Å—Ç–∏–ª—å
    hash=$(md5sum "$path" 2>/dev/null | awk '{print $1}')
elif command -v md5 &> /dev/null; then
    # macOS / BSD —Å—Ç–∏–ª—å
    hash=$(md5 -q "$path" 2>/dev/null)
else
    hash="unavailable"
fi

# [ -z "$hash" ] ‚Äî –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è hash –ø—É—Å—Ç–∞—è (—Å–±–æ–π), —Å—Ç–∞–≤–∏–º "unavailable"
[ -z "$hash" ] && hash="unavailable"

echo "$path|$size_human|$hash"

```

done | awk -F'|' '{print NR " - " $1 ", " $2 ", " $3}'

# 7. === –ë–õ–û–ö: –ú–ï–¢–†–ò–ö–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò ===

# –¶–µ–ª—å: –ü–æ—Å—á–∏—Ç–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –∫–æ–Ω—Ü–æ–º –∏ –Ω–∞—á–∞–ª–æ–º —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é.

# –ö–æ–Ω–µ—Ü –æ—Ç—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏

END_TIME=$(date +%s.%N)

# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

# bc ‚Äî (Basic Calculator). Bash —Å–∞–º –Ω–µ —É–º–µ–µ—Ç —Å—á–∏—Ç–∞—Ç—å –¥—Ä–æ–±–Ω—ã–µ —á–∏—Å–ª–∞ (float), –ø–æ—ç—Ç–æ–º—É –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –ø—Ä–∏–º–µ—Ä "–ö–æ–Ω–µ—Ü - –ù–∞—á–∞–ª–æ" –≤ —É—Ç–∏–ª–∏—Ç—É bc.

EXECUTION_TIME=$(echo "$END_TIME - $START_TIME" | bc 2>/dev/null)

# –ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

# –ï—Å–ª–∏ bc –≤–µ—Ä–Ω—É–ª —á–∏—Å–ª–æ –≤–∏–¥–∞ ".45" (–±–µ–∑ –Ω—É–ª—è –≤ –Ω–∞—á–∞–ª–µ), –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–ª—å -> "0.45".

# Regex ^. –æ–∑–Ω–∞—á–∞–µ—Ç "—Å—Ç—Ä–æ–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–æ—á–∫–∏".

if [[ -z "$EXECUTION_TIME" ]] || [[ "EXECUTION_TIME"
fi

echo "Script execution time (in seconds) = $EXECUTION_TIME"

```

---

### üìù –°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤ –¥–ª—è –∑–∞—â–∏—Ç—ã

1.  **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ (`find`)**: –ö–æ–º–∞–Ω–¥–∞ —Å–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ "–¥–µ—Ä–µ–≤—É" –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –∑–∞–≥–ª—è–¥—ã–≤–∞—è –≤ –∫–∞–∂–¥—É—é –≤–ª–æ–∂–µ–Ω–Ω—É—é –ø–∞–ø–∫—É.
2.  **–ü–∞–π–ø–ª–∞–π–Ω / –ö–æ–Ω–≤–µ–π–µ—Ä (`|`)**: –ú–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –≤—Ö–æ–¥ –¥—Ä—É–≥–æ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, `find` –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª—ã –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö `sort`, –∫–æ—Ç–æ—Ä—ã–π –∏—Ö —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç. 
3.  **–ü–æ—Ç–æ–∫–∏ –≤—ã–≤–æ–¥–∞**:
    * `stdout` (1) ‚Äî –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ (–ø–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è).
    * `stderr` (2) ‚Äî –û—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Permission denied").
    * `2>/dev/null` ‚Äî –ú—ã –±–µ—Ä–µ–º –ø–æ—Ç–æ–∫ –æ—à–∏–±–æ–∫ (2) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –≤ "—á–µ—Ä–Ω—É—é –¥—ã—Ä—É" (`/dev/null`), —á—Ç–æ–±—ã –æ–Ω –Ω–µ –º–µ—à–∞–ª –∞–Ω–∞–ª–∏–∑—É. 
4.  **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (MD5)**: –≠—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ "–æ—Ç–ø–µ—á–∞—Ç–∫–∞ –ø–∞–ª—å—Ü–∞" —Ñ–∞–π–ª–∞. –ï—Å–ª–∏ –≤ —Ñ–∞–π–ª–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è —Ö–æ—Ç—å –æ–¥–∏–Ω –±–∞–π—Ç, —Ö–µ—à –∏–∑–º–µ–Ω–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é.
5.  **Subshell (–ü–æ–¥–æ–±–æ–ª–æ—á–∫–∞) `$(...)`**: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤–Ω—É—Ç—Ä–∏ —Å–∫–æ–±–æ–∫ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ç–µ–∫—Å—Ç) –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—á–∞—Ç–∞—Ç—å –µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä: `FILES=$(ls)` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

```