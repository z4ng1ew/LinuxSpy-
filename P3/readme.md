–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–∞, —Å–¥–µ–ª–∞–ª –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –Ω–æ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–∞—Ö: **–æ–±—Ä–∞–±–æ—Ç–∫–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤**, **ANSI-—Ü–≤–µ—Ç–∞—Ö** –∏ **–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**.

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç ‚Äî —ç–≤–æ–ª—é—Ü–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ. –û–Ω –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏—Ö –≤ —Ü–≤–µ—Ç–∞, –∑–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

---

# üõ°Ô∏è Bash Utils & Colorization

## 1. ‚öôÔ∏è –ë–ê–ó–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (`set`, `trap`)

```bash
set -euo pipefail
trap 'echo -e "\n\n–ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º."; exit 130' INT TERM

```

* **`set -euo pipefail`**: ¬´–†–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ–π –≥–∏–≥–∏–µ–Ω—ã –∫–æ–¥–∞¬ª.
* `-e`: –ü–∞–¥–∞—Ç—å –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –≤–µ—Ä–Ω—É–ª–∞ –Ω–µ 0).
* `-u`: –ü–∞–¥–∞—Ç—å, –µ—Å–ª–∏ –ø—ã—Ç–∞–µ–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É—Å—Ç—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.
* `-o pipefail`: –ï—Å–ª–∏ –≤ –∫–æ–Ω–≤–µ–π–µ—Ä–µ `cmd1 | cmd2` —É–ø–∞–ª–∞ `cmd1`, —Å—á–∏—Ç–∞—Ç—å —É–ø–∞–≤—à–∏–º –≤–µ—Å—å –∫–æ–Ω–≤–µ–π–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Bash —Å–º–æ—Ç—Ä–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–º–∞–Ω–¥—É).


* **`trap`**: –°–º. —Ä–∞–∑–±–æ—Ä –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞. –ü–µ—Ä–µ—Ö–≤–∞—Ç Ctrl+C (SIGINT) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞.

---

## 2. üé® –ë–õ–û–ö: –õ–û–ì–ò–ö–ê –¶–í–ï–¢–û–í (`get_color`)

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è ‚Äî **—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä**. –û–Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —á–µ–ª–æ–≤–µ–∫—É —Ü–∏—Ñ—Ä—ã (1-6) –≤ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –º–∞—à–∏–Ω–µ –∫–æ–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (ANSI codes).

```bash
get_color() {
    local color_num=$1      # –ê—Ä–≥—É–º–µ–Ω—Ç 1: –ù–æ–º–µ—Ä —Ü–≤–µ—Ç–∞ (1-6)
    local is_background=$2  # –ê—Ä–≥—É–º–µ–Ω—Ç 2: –§–ª–∞–≥ (1 = —ç—Ç–æ —Ñ–æ–Ω, 0 = —ç—Ç–æ —à—Ä–∏—Ñ—Ç)
    
    case $color_num in
        1) # white
            # –¢–µ—Ä–Ω–∞—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ Bash: [[ —É—Å–ª–æ–≤–∏–µ ]] && –¢–û–ì–î–ê || –ò–ù–ê–ß–ï
            # –ï—Å–ª–∏ —ç—Ç–æ —Ñ–æ–Ω (is_background == 1), –æ—Ç–¥–∞–µ–º –∫–æ–¥ 47 (–±–µ–ª—ã–π —Ñ–æ–Ω).
            # –ò–Ω–∞—á–µ –æ—Ç–¥–∞–µ–º –∫–æ–¥ 97 (—è—Ä–∫–∏–π –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç).
            [[ $is_background -eq 1 ]] && echo "47" || echo "97"
            ;;
        # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ ...

```

### üß† –¢–µ–æ—Ä–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã (ANSI Codes):

–¢–µ—Ä–º–∏–Ω–∞–ª –ø–æ–Ω–∏–º–∞–µ—Ç —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–¥—ã:

* **30-37**: –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ (Foreground).
* **40-47**: –¶–≤–µ—Ç —Ñ–æ–Ω–∞ (Background).
* **90-97**: –Ø—Ä–∫–∏–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ (High Intensity).

**–ü–æ—á–µ–º—É `echo "97"` –¥–ª—è —Ç–µ–∫—Å—Ç–∞, –∞ –Ω–µ `37`?**
–ê–≤—Ç–æ—Ä —Å–∫—Ä–∏–ø—Ç–∞ –≤—ã–±—Ä–∞–ª `97` (Bright White), —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –±—ã–ª –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–µ–µ. –û–±—ã—á–Ω—ã–π `37` ‚Äî —ç—Ç–æ —Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π.

---

## 3. üõ°Ô∏è –ë–õ–û–ö: –í–ê–õ–ò–î–ê–¶–ò–Ø –ü–ê–†–ê–ú–ï–¢–†–û–í (`validate_parameters`)

–≠—Ç–æ ¬´—Ñ–µ–π—Å–∫–æ–Ω—Ç—Ä–æ–ª—å¬ª —Å–∫—Ä–∏–ø—Ç–∞. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–ª–æ—Ö–∏–µ ‚Äî —Å–∫—Ä–∏–ø—Ç –¥–∞–∂–µ –Ω–µ –Ω–∞—á–Ω–µ—Ç —Ä–∞–±–æ—Ç—É.

```bash
validate_parameters() {
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
    # $# ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Ö—Ä–∞–Ω—è—â–∞—è –ß–ò–°–õ–û –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
    # -ne (Not Equal) ‚Äî –Ω–µ —Ä–∞–≤–Ω–æ.
    if [[ $# -ne 4 ]]; then
        echo "–û—à–∏–±–∫–∞..." 
        exit 1
    fi
    
    # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ª–æ–∫–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
    local param1=$1 ... param4=$4
    
    # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (1-6)
    for param in "$param1" "$param2" "$param3" "$param4"; do
        # =~ ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º (Regex).
        # ^ ‚Äî –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏.
        # [1-6] ‚Äî –ª—é–±–æ–π –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –æ—Ç 1 –¥–æ 6.
        # $ ‚Äî –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏.
        # ! ‚Äî –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ (–ï–°–õ–ò –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —à–∞–±–ª–æ–Ω—É).
        if ! [[ "$param" =~ ^[1-6]$ ]]; then
            echo "–û—à–∏–±–∫–∞: —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 6..."
            exit 1
        fi
    done
    
    # 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Å–ª–µ–ø–æ—Ç—É" (—Ñ–æ–Ω == —Ç–µ–∫—Å—Ç)
    # –ï—Å–ª–∏ —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ —Ä–∞–≤–µ–Ω —Ü–≤–µ—Ç—É —Ç–µ–∫—Å—Ç–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ —É–≤–∏–¥–∏—Ç.
    if [[ $param1 -eq $param2 ]]; then
        echo "–û—à–∏–±–∫–∞: —Ü–≤–µ—Ç–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç..."
        exit 1
    fi

```

### üß† –í–æ–ø—Ä–æ—Å –Ω–∞ –∑–∞—â–∏—Ç–µ:

**–í:** –ó–∞—á–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å `$#`, –µ—Å–ª–∏ –¥–∞–ª—å—à–µ –º—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä?
**–û:** –ß—Ç–æ–±—ã –æ—Ç—Å–µ—á—å –æ—à–∏–±–∫–∏ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±—ã–ª –≤–≤–µ—Å—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —Å–∫—Ä–∏–ø—Ç —Å—Ä–∞–∑—É —Å–∫–∞–∂–µ—Ç `–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ...`, –∞ –Ω–µ –±—É–¥–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è –Ω–∞ –ø—É—Å—Ç—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

---

## 4. üìù –ë–õ–û–ö: –°–ë–û–† –î–ê–ù–ù–´–• (`gather_system_facts`)

```bash
gather_system_facts() {
    # –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ–º —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º (-e)
    set +e 

```

**–ü–æ—á–µ–º—É `set +e`?**
–í —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º—ã –º–Ω–æ–≥–æ —Ä–∞–∑ –≤—ã–∑—ã–≤–∞–µ–º –≤–Ω–µ—à–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã. –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –∫–æ–º–∞–Ω–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞) –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É, –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–ª—Å—è. –ú—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π (–°–∞–º–∞—è "–º–∞–≥–∏—è")

```bash
    # –ú—ã –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é get_color, –ø–µ—Ä–µ–¥–∞–µ–º –µ–π –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ($bg_name) 
    # –∏ —Ñ–ª–∞–≥ 1 (–∑–Ω–∞—á–∏—Ç, –Ω–∞–º –Ω—É–∂–µ–Ω –∫–æ–¥ —Ñ–æ–Ω–∞).
    color_bg_name=$(get_color "$bg_name" 1) 
    color_fg_name=$(get_color "$fg_name" 0)

    # –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ–º —É–ø—Ä–∞–≤–ª—è—é—â—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å ANSI:
    # \033[ ‚Äî —ç—Ç–æ ESCAPE-—Å–∏–º–≤–æ–ª (–Ω–∞—á–∞–ª–æ –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª—É).
    # ...m ‚Äî –∫–æ–Ω–µ—Ü –∫–æ–º–∞–Ω–¥—ã.
    # ; ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –∫–æ–¥–æ–º —Ñ–æ–Ω–∞ –∏ –∫–æ–¥–æ–º —Ç–µ–∫—Å—Ç–∞.
    
    local name_style="\033[${color_bg_name};${color_fg_name}m"
    local reset="\033[0m" # –°–±—Ä–æ—Å –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º

```

**–ö–∞–∫ —ç—Ç–æ –≤–∏–¥–∏—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª:**
–ï—Å–ª–∏ `bg=41` (–∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω) –∏ `fg=97` (–±–µ–ª—ã–π —Ç–µ–∫—Å—Ç), –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `name_style` –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤:
`\033[41;97m`
–í—Å—ë, —á—Ç–æ –Ω–∞–ø–µ—á–∞—Ç–∞–Ω–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –±—É–¥–µ—Ç –±–µ–ª—ã–º –Ω–∞ –∫—Ä–∞—Å–Ω–æ–º, –ø–æ–∫–∞ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—Å—è `reset`.

### –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ (System Info)

*(–≠—Ç–æ—Ç –±–ª–æ–∫ –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Å–∫—Ä–∏–ø—Ç—É, –ø–æ—ç—Ç–æ–º—É –∫—Ä–∞—Ç–∫–æ)*:

* **Hostname**: –ò—Å–ø–æ–ª—å–∑—É–µ–º `|| echo "Unknown"`, —á—Ç–æ–±—ã –Ω–µ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø—É—Å—Ç–æ–π.
* **TZ**: `timedatectl` –∏–ª–∏ —Ö–∞—Ä–¥–∫–æ—Ä–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ `date`.
* **IP/Mask**: –°–ª–æ–∂–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ —Å `awk` (–±–∏—Ç–æ–≤—ã–µ —Å–¥–≤–∏–≥–∏), –∫–∞–∫ –≤ –ø—Ä–æ—à–ª–æ–º —Ä–∞–∑–±–æ—Ä–µ.
* *–ù—é–∞–Ω—Å:* –ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `set +e`, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ `ip route` —É–ø–∞–¥–µ—Ç, —Å–∫—Ä–∏–ø—Ç –Ω–µ —É–º—Ä–µ—Ç, –∞ `awk` –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∏—Ç –ø—É—Å—Ç–æ–π –≤–≤–æ–¥, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –µ—Å–ª–∏ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–≥–ª—É—à–∫–∏. –ù–æ –∞–≤—Ç–æ—Ä –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–ª `|| echo` –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ `[[ -z ]]`.



---

## 5. üñ®Ô∏è –ë–õ–û–ö: –í–´–í–û–î (`echo -e`)

–ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–∏—è–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –¥–∏–∑–∞–π–Ω–∞.

```bash
    # –û–ø—Ü–∏—è -e –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é backslash escapes (\n, \033 –∏ —Ç.–¥.).
    # –ë–µ–∑ -e —Ç–µ—Ä–º–∏–Ω–∞–ª –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–µ—á–∞—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç "\033[...m" –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∞—Å–∫—Ä–∞—Å–∏—Ç—å –µ–≥–æ.

    echo -e "${name_style}HOSTNAME${reset} = ${value_style}$node_name${reset}"

```

**–ê–Ω–∞—Ç–æ–º–∏—è —Å—Ç—Ä–æ–∫–∏:**

1. `${name_style}`: "–¢–µ—Ä–º–∏–Ω–∞–ª, –≤–∫–ª—é—á–∏ —Ü–≤–µ—Ç–∞ –¥–ª—è –ù–ê–ó–í–ê–ù–ò–Ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–µ–ª—ã–π –Ω–∞ –∫—Ä–∞—Å–Ω–æ–º)".
2. `HOSTNAME`: –¢–µ–∫—Å—Ç "HOSTNAME".
3. `${reset}`: "–¢–µ—Ä–º–∏–Ω–∞–ª, –≤—ã–∫–ª—é—á–∏ —Ü–≤–µ—Ç–∞, –≤–µ—Ä–Ω–∏—Å—å –∫ –æ–±—ã—á–Ω—ã–º".
4. `=`: –ü–µ—á–∞—Ç–∞–µ–º –∑–Ω–∞–∫ —Ä–∞–≤–Ω–æ –æ–±—ã—á–Ω—ã–º —Ü–≤–µ—Ç–æ–º.
5. `${value_style}`: "–¢–µ—Ä–º–∏–Ω–∞–ª, –≤–∫–ª—é—á–∏ —Ü–≤–µ—Ç–∞ –¥–ª—è –ó–ù–ê–ß–ï–ù–ò–Ø (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–µ–ª–µ–Ω—ã–π –Ω–∞ —á–µ—Ä–Ω–æ–º)".
6. `$node_name`: –ü–µ—á–∞—Ç–∞–µ–º —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ (–∏–º—è —Ö–æ—Å—Ç–∞).
7. `${reset}`: –°–Ω–æ–≤–∞ –≤—ã–∫–ª—é—á–∞–µ–º —Ü–≤–µ—Ç–∞.

---

## 6. üöÄ –ë–õ–û–ö: –ì–õ–ê–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø (`main`)

```bash
main() {
    # 1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤–≤–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    # "$@" –ø–µ—Ä–µ–¥–∞–µ—Ç –í–°–ï –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é validate.
    validate_parameters "$@"
    
    # 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —É—Ç–∏–ª–∏—Ç (ip, awk –∏ —Ç.–¥.)
    check_dependencies
    
    # 3. –í—ã–≤–æ–¥–∏–º —à–∞–ø–∫—É
    echo -e "\n=== –°–ò–°–¢–ï–ú–ù–ê–Ø –°–í–û–î–ö–ê ==="
    
    # 4. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä –∏ –ø–µ—á–∞—Ç—å –¥–∞–Ω–Ω—ã—Ö.
    # –ü–µ—Ä–µ–¥–∞–µ–º —Ç—É–¥–∞ 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ü–≤–µ—Ç–∞ ($1, $2, $3, $4), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–∏ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.
    gather_system_facts "$1" "$2" "$3" "$4"
    
    echo "======================="
}

# –ó–∞–ø—É—Å–∫
main "$@"

```

---

## üî• –ì–õ–ê–í–ù–´–ï –û–¢–õ–ò–ß–ò–Ø –û–¢ –ü–†–û–®–õ–û–ì–û –°–ö–†–ò–ü–¢–ê (–î–ª—è –∑–∞—â–∏—Ç—ã)

–ï—Å–ª–∏ —Å–ø—Ä–æ—Å—è—Ç: *"–í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏?"*

1. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å vs –ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –ü—Ä–æ—à–ª—ã–π —Å–∫—Ä–∏–ø—Ç —Å–ø—Ä–∞—à–∏–≤–∞–ª *"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª?"* –≤ –∫–æ–Ω—Ü–µ. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **–î–û** –∑–∞–ø—É—Å–∫–∞ (—á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã).
2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤—ã–≤–æ–¥–∞:**
* *–ü—Ä–æ—à–ª—ã–π:* –§—É–Ω–∫—Ü–∏—è `gather` **–≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ —Ç–µ–∫—Å—Ç** –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (`captured_data=$(gather...)`).
* *–≠—Ç–æ—Ç:* –§—É–Ω–∫—Ü–∏—è `gather` **–ø–µ—á–∞—Ç–∞–µ—Ç —Å—Ä–∞–∑—É –Ω–∞ —ç–∫—Ä–∞–Ω** (`echo -e ...`), –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–≤–µ—Ç–æ–≤—ã–µ –∫–æ–¥—ã, –∞ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ–∂–Ω–µ–µ –∏ —á—Ä–µ–≤–∞—Ç–æ –ø–æ—Ç–µ—Ä–µ–π —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤.


3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞:** –ó–¥–µ—Å—å –¥–æ–±–∞–≤–ª–µ–Ω –º–æ—â–Ω—ã–π –±–ª–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (`validate_parameters`) —Å Regex, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ.

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:

```bash
./colors.sh 1 6 3 6

```

* **1 (–§–æ–Ω –Ω–∞–∑–≤–∞–Ω–∏–π):** –ë–µ–ª—ã–π.
* **6 (–¢–µ–∫—Å—Ç –Ω–∞–∑–≤–∞–Ω–∏–π):** –ß–µ—Ä–Ω—ã–π.
* **3 (–§–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π):** –ó–µ–ª–µ–Ω—ã–π.
* **6 (–¢–µ–∫—Å—Ç –∑–Ω–∞—á–µ–Ω–∏–π):** –ß–µ—Ä–Ω—ã–π.

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ö—Ä–∞—Å–∏–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞, –≥–¥–µ –∫–ª—é—á–∏ (HOSTNAME) ‚Äî —á–µ—Ä–Ω–æ-–±–µ–ª—ã–µ, –∞ –∑–Ω–∞—á–µ–Ω–∏—è (Server1) ‚Äî —á–µ—Ä–Ω–æ-–∑–µ–ª–µ–Ω—ã–µ.