#!/usr/bin/env bash

validate_parameters() {
    # === БЛОК 1: КОЛИЧЕСТВО АРГУМЕНТОВ ===
    # $# — счетчик аргументов. -ne — "Not Equal" (не равно).
    if [[ $# -ne 4 ]]; then
        echo "Ошибка: скрипт должен быть запущен с 4 параметрами."
        exit 1
    fi
    
    # Присваиваем аргументам понятные имена
    local param1=$1 # Фон названий
    local param2=$2 # Шрифт названий
    local param3=$3 # Фон значений
    local param4=$4 # Шрифт значений
    
    # === БЛОК 2: ПРОВЕРКА НА ЦИФРЫ ===
    # Цикл проходит по всем 4 параметрам.
    for param in "$param1" "$param2" "$param3" "$param4"; do
        # =~ — оператор "похоже на" (RegEx).
        # ^[1-6]$ — Регулярное выражение:
        #   ^ — начало строки
        #   [1-6] — один символ от 1 до 6
        #   $ — конец строки
        # ! — отрицание (ЕСЛИ НЕ ПОХОЖЕ).
        if ! [[ "$param" =~ ^[1-6]$ ]]; then
            echo "Ошибка: все параметры должны быть числами от 1 до 6."
            exit 1
        fi
    done
    
    # === БЛОК 3: ПРОВЕРКА КОНТРАСТА ===
    # Нельзя, чтобы фон и шрифт совпадали (читать невозможно).
    if [[ $param1 -eq $param2 ]]; then
        echo "Ошибка: цвет фона и шрифта названий совпадают."
        exit 1
    fi
    
    if [[ $param3 -eq $param4 ]]; then
        echo "Ошибка: цвет фона и шрифта значений совпадают."
        exit 1
    fi
}